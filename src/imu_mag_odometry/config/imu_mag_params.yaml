# IMU and Magnetometer Odometry Configuration

# Input topics
imu_topic: "/mavros/imu/data"
mag_topic: "/mavros/imu/mag"
pressure_topic: "/mavros/imu/atm_pressure"
output_topic: "/odometry/imu_mag"

# Frame configuration
base_frame: "base_link"
odom_frame: "odom"

# Orientation filter configuration
orientation_filter: "madgwick"  # Options: "madgwick", "use_imu_orientation"
madgwick_beta: 0.1              # Filter gain (0.01-1.0, lower = more stable, higher = faster)
sample_rate: 100.0              # Expected sensor sample rate in Hz

# Integration settings (WARNING: Position drifts quickly without correction!)
enable_integration: false       # Enable acceleration integration for position/velocity
gravity_compensation: true      # Remove gravity from acceleration measurements
gravity_magnitude: 9.81         # Local gravity acceleration (m/s²)

# Barometer settings
use_barometer: false            # Use barometer for altitude estimation
pressure_to_altitude_factor: 8.3  # Altitude change per hPa pressure change (meters/hPa)

# Publishing settings
publish_rate: 50.0              # Odometry publishing rate in Hz
publish_tf: true                # Publish TF transform

# Covariance settings (diagonal values)
orientation_covariance: 0.01    # Orientation uncertainty (rad²)
position_covariance: 1.0        # Position uncertainty (m²) - only when integration enabled
velocity_covariance: 0.1        # Velocity uncertainty (m²/s²) - only when integration enabled
